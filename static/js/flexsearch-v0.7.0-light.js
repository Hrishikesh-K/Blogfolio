(function(){"use strict";var t;function e(t){return"string"==typeof t}function i(t){for(var e=Array(t),i=0;i<t;i++)e[i]=r();return e}function r(){return Object.create(null)}function n(t,e){for(var i=0,r=e.length;i<r&&(t=t.replace(e[i],e[i+1]));i+=2);return t}Object.assign||(Object.assign=function(){for(var t,e,i,r=arguments,n=r.length,h=r[0],s=1;s<n;s++){t=r[s],i=(e=Object.keys(t)).length;for(var f,o=0;o<i;o++)h[f=e[o]]=t[f]}return h});var h=/[\W_]+/;function s(t){if((t=t.toLowerCase())&&(t&&this.g&&(t=n(t,this.g)),this.h&&1<t.length&&(t=n(t,this.h)),t&&(t=t.split(h),this.filter))){for(var e=this.filter,i=t.length,r=[],s=0,f=0;s<i;s++){var o=t[s];o&&!e[o]&&(r[f++]=o)}t=r}return t}var f=0,o={},a={};function l(t){if(!(this instanceof l))return new l(t);var e=t&&t.id;this.id=e||0===e?e:f++,this.init(t),u(this,"index",(function(){return Object.keys(this.a)})),u(this,"length",(function(){return this.index.length}))}function u(t,e,i){Object.defineProperty(t,e,{get:i})}function c(t,e,i,r,n,h,s,f){return e[i]?e[i]:(n=n?(f-(s||f/1.5))*h+(s||f/1.5)*n:h,e[i]=n,n>=s&&((t=(t=t[f-(n+.5>>0)])[i]||(t[i]=[]))[t.length]=r),n)}function g(t,e){if(t)for(var i=Object.keys(t),r=0,n=i.length;r<n;r++){var h=i[r],s=t[h];if(s)for(var f=0,o=s.length;f<o;f++){if(s[f]===e){1===o?delete t[h]:s.splice(f,1);break}"object"==typeof s[f]&&g(s[f],e)}}}function d(t,e){for(var i,r=Object.keys(t),n=r.length,h=[],s="",f=0,o=0;o<n;o++){var a=r[o];(i=t[a])?(h[f++]=new RegExp(e?"(?!\\b)"+a+"(\\b|_)":a,"g"),h[f++]=i):s+=(s?"|":"")+a}return s&&(h[f++]=new RegExp(e?"(?!\\b)("+s+")(\\b|_)":"("+s+")","g"),h[f]=""),h}function v(t,e){return e.length-t.length}function b(t,e,i){return t?{page:t,next:e?""+e:null,result:i}:i}l.registerCharset=function(t,e){return a[t]=e,l},l.registerLanguage=function(t,e){return o[t]=e,l},(t=l.prototype).init=function(t){var n;t||(t={});var h=t.charset,f=t.lang;if(e(h)&&(-1===h.indexOf(":")&&(h+=":default"),h=a[h]),e(f)&&(f=o[f]),this.j=n=h&&h.l||t.tokenize||"strict",this.depth="strict"===n&&t.depth||0,this.i=h&&h.i||t.rtl||!1,this.b=t.resolution||9,this.threshold=n=t.threshold||0,this.b<=n&&(this.b=n+1),this.encode=t.encode||h&&h.encode||s,this.g=(n=t.matcher||f&&f.g)&&d(n,!1),this.h=(n=t.stemmer||f&&f.h)&&d(n,!0),t=n=t.filter||f&&f.filter)for(t=r(),h=0,f=n.length;h<f;h++)t[n[h]]=1;return this.filter=t,this.f=i(this.b-this.threshold),this.c=r(),this.a=r(),this},t.add=function(t,n,h,s,f){if(n&&e(n)&&(t||0===t)){if(this.a[t]&&!s)return this.update(t,n);if(!f&&h)return this.add(t,n,null,s,!0),h(),this;if(!(n=this.encode(n)).length)return this;(h=r())._ctx=r(),s=n.length,f=this.threshold;for(var o,a=this.depth,l=this.b,u=this.f,g=this.i,d=0;d<s;d++){var v=n[d];if(v){o=1;var b=v.length,p=(g?d+1:s-d)/s,y="";switch(this.j){case"reverse":case"both":for(var j=b;--j;)c(u,h,y=v[j]+y,t,g?1:(b-j)/b,p,f,l-1);y="";case"forward":for(j=0;j<b;j++)c(u,h,y+=v[j],t,g?(j+1)/b:1,p,f,l-1);break;case"full":for(j=0;j<b;j++)for(var k=(g?j+1:b-j)/b,x=b;x>j;x--)c(u,h,y=v.substring(j,x),t,k,p,f,l-1);break;default:if(b=c(u,h,v,t,1,p,f,l-1),a&&1<s&&b>=f)for(b=h._ctx[v]||(h._ctx[v]=r()),v=this.c[v]||(this.c[v]=i(l-(f||0))),0>(p=d-a)&&(p=0),(y=d+a+1)>s&&(y=s);p<y;p++)p!==d&&c(v,b,n[p],t,0,l-(p<d?d-p:p-d),f,l-1)}}}o&&(this.a[t]=1)}return this},t.update=function(t,i,r){return this.a[t]&&e(i)&&(this.remove(t),this.add(t,i,r,!0)),this},t.remove=function(t,e,i){if(this.a[t]){if(!i&&e)return this.remove(t,null,!0),e(),this;for(e=0;e<this.b-(this.threshold||0);e++)g(this.f[e],t);this.depth&&g(this.c,t),delete this.a[t]}return this},t.search=function(t,i,n,h){i&&"function"==typeof i?(n=i,i=1e3):i||0===i||(i=1e3);var s=[],f=t;if("object"==typeof t){var o=!1;i=t.limit;var a=t.threshold,l=!1;t=t.query}if(a||(a=this.threshold||0),!h&&n)return n(this.search(f,i,null,!0)),this;if(!t||!e(t))return s;if(!(f=this.encode(t)).length)return s;h=(n=f).length,f=!0,t=[];var u,c,g=r(),d=0;if(1<h&&(this.depth?u=!0:n.sort(v)),!u||(c=this.c))for(var p=this.b;d<h;d++){var y=n[d];if(y){if(u){if(!j)if(c[y]){var j=y;g[y]=1}else if(!l)return s;if(l&&d===h-1&&!t.length)u=!1,g[y=j||y]=0;else if(!j)continue}if(!g[y]){var k=[],x=!1,m=0;if(j=u?c[j]:this.f)for(var O,w=0;w<p-a;w++)(O=j[w]&&j[w][y])&&(k[m++]=O,x=!0);if(!x){f=!1;break}j=y,t[t.length]=1<m?k.concat.apply([],k):k[0],g[y]=1}}}else f=!1;if(f)t:{if(s=[],!0===o?(o="0",a=""):a=o&&o.split(":"),1<(l=t.length)){var _;for(u=r(),j=0,p=!0,f=0,a&&(a=2!==a.length&&(_=parseInt(a[0],10)));j<l;j++){if(g=j===l-1,!(h=(c=t[j]).length)){s=b(o,E,c);break t}if(p){if(!C){C=c;continue}for(d=C.length,n=0;n<d;n++)u["@"+C[n]]=1;var C=null;p=!1}for(y=!1,n=0;n<h;n++)if((x=u[k="@"+(d=c[n])]||0)&&x===j){if(g){if((!_||--_<f)&&(s[f++]=d,i&&f===i)){s=b(o,f+(a||0),s);break t}}else u[k]=j+1;y=!0}if(!y)break}C&&(s=C)}else l&&(s=t[0],a&&(a=parseInt(a[0],10)));if(i){C=s.length,a&&a>C&&(a=0);var E=(_=a||0)+i;E<C?s=s.slice(_,E):(E=0,_&&(s=s.slice(_)))}s=b(o,E,s)}return s},t.clear=function(){return this.destroy().init()},t.destroy=function(){return this.f=this.c=this.a=null,this},function(){var t,e=this||window;(t=e.define)&&t.amd?t([],(function(){return l})):"object"==typeof e.exports?e.module.exports=l:e.FlexSearch=l}()}).call(this);